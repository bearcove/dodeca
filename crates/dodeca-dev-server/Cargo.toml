[package]
name = "dodeca-dev-server"
version = "0.1.0"
edition = "2024"
rust-version = "1.91"

[[bin]]
name = "dodeca-dev-server"
path = "src/main.rs"

[dependencies]
# HTTP server
axum = { version = "0.8", features = ["ws"] }
tokio = { version = "1", features = ["full"] }

# WebSocket
futures-util = "0.3"

# RPC to host
rapace = { git = "https://github.com/bearcove/rapace" }
dodeca-serve-protocol = { path = "../dodeca-serve-protocol" }

# Devtools protocol (for WebSocket messages)
dodeca-protocol = { path = "../dodeca-protocol" }

# Serialization
facet = { git = "https://github.com/facet-rs/facet" }
facet-postcard = { git = "https://github.com/facet-rs/facet" }

# Error handling
color-eyre = "0.6"

# Logging
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
